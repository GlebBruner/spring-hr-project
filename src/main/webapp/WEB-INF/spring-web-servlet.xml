<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xsi:schemaLocation="
        http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-4.3.xsd
        http://www.springframework.org/schema/mvc
        http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context-4.3.xsd">

    <context:component-scan base-package="ua.nure" />

    <bean id="countryRepository" class="ua.nure.repository.CountryRepository" autowire="byType" />
    <bean id="employeeRepository" class="ua.nure.repository.EmployeeRepository" autowire="byType"/>
    <bean id="departmentRepository" class="ua.nure.repository.DepartmentRepository" autowire="byType"/>
    <bean id="locationRepository" class="ua.nure.repository.LocationRepository" autowire="byType"/>
    <bean id="taskRepository" class="ua.nure.repository.TaskRepository" autowire="byType"/>
    <bean id="jobRepository" class="ua.nure.repository.JobRepository" autowire="byType"/>

    <bean id="countryService" class="ua.nure.service.CountryService" autowire="byType"/>
    <bean id="countryResource" class="ua.nure.web.CountryResource" autowire="byType"/>

    <bean id="locationService" class="ua.nure.service.LocationService" autowire="byType"/>
    <bean id="locationResource" class="ua.nure.web.LocationResource" autowire="byType"/>

    <bean id="departmentService" class="ua.nure.service.DepartmentService" autowire="byType"/>
    <bean id="departmentResource" class="ua.nure.web.DepartmentResource" autowire="byType"/>

    <bean id="employeeService" class="ua.nure.service.EmployeeService" autowire="byType"/>
    <bean id="employeeResource" class="ua.nure.web.EmployeeResource" autowire="byType"/>

    <bean id="jobService" class="ua.nure.service.JobService" autowire="byType"/>
    <bean id="jobResource" class="ua.nure.web.JobResource" autowire="byType"/>

    <bean id="taskService" class="ua.nure.service.TaskService" autowire="byType"/>
    <bean id="taskResource" class="ua.nure.web.TaskResource" autowire="byType"/>

    <mvc:annotation-driven />
    <beans profile="dev">

        <bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
            <property name="location" value="classpath:application-dev.properties"/>
        </bean>

        <bean id="dataSource1" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
            <property name="driverClassName" value="${jdbc.DriverClassName}"/>
            <property name="url" value="${jdbc.url}"/>
            <property name="username" value="${jdbc.user}"/>
            <property name="password" value="${jdbc.password}"/>
        </bean>

        <bean id="jdbcTemplate1" class="org.springframework.jdbc.core.JdbcTemplate">
            <property name="dataSource" ref="dataSource1"/>
        </bean>

    </beans>

    <beans profile="prod">

        <bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
            <property name="location" value="classpath:application-prod.properties"/>
        </bean>

        <bean id="dataSource2" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
            <property name="driverClassName" value="${jdbc.DriverClassName}"/>
            <property name="url" value="${jdbc.url}"/>
            <property name="username" value="${jdbc.user}"/>
            <property name="password" value="${jdbc.password}"/>
        </bean>

        <bean id="jdbcTemplate2" class="org.springframework.jdbc.core.JdbcTemplate">
            <property name="dataSource" ref="dataSource2"/>
        </bean>


    </beans>



</beans>